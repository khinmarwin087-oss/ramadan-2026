<!DOCTYPE html>
<html lang="my">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ramadan Premium 2026</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Amiri:wght@700&family=Inter:wght@300;400;600&family=Pyidaungsu:wght@400;700&display=swap');
        
        body { font-family: 'Inter', 'Pyidaungsu', sans-serif; background: #010b09; color: #ffffff; }
        .arabic { font-family: 'Amiri', serif; }

        /* Bismillah Animation Fix */
        .bismillah-text {
            display: block;
            direction: rtl;
            overflow: hidden;
            white-space: nowrap;
            width: 0;
            margin: 0 auto;
            animation: type-bismillah 4s steps(40) forwards;
        }
        @keyframes type-bismillah { from { width: 0; } to { width: 100%; } }

        .apple-blur {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(25px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 28px;
        }

        .count-box {
            background: linear-gradient(180deg, rgba(16, 185, 129, 0.1) 0%, rgba(0, 0, 0, 0) 100%);
            border-radius: 32px;
        }
    </style>
</head>
<body class="pb-10 overflow-x-hidden">

    <header class="pt-12 pb-8 px-6 text-center">
        <h2 class="bismillah-text arabic text-3xl md:text-5xl text-emerald-400 mb-6">بِسْمِ اللهِ الرَّحْمٰنِ الرَّحِيْمِ</h2>
        
        <div class="count-box p-8 mb-6 border border-emerald-500/10">
            <p id="countTitle" class="text-[10px] tracking-[4px] text-emerald-500 uppercase font-semibold mb-4 italic">Next Event Loading...</p>
            <div class="flex justify-center gap-6">
                <div class="text-center">
                    <span id="d" class="text-4xl font-light">00</span>
                    <p class="arabic text-xs text-emerald-500/60 mt-1">أيام</p>
                </div>
                <div class="text-center">
                    <span id="h" class="text-4xl font-light">00</span>
                    <p class="arabic text-xs text-emerald-500/60 mt-1">ساعة</p>
                </div>
                <div class="text-center">
                    <span id="m" class="text-4xl font-light">00</span>
                    <p class="arabic text-xs text-emerald-500/60 mt-1">دقيقة</p>
                </div>
                <div class="text-center">
                    <span id="s" class="text-4xl font-light text-emerald-400">00</span>
                    <p class="arabic text-xs text-emerald-500/60 mt-1">ثانية</p>
                </div>
            </div>
        </div>

        <div class="grid grid-cols-3 gap-3">
            <a href="https://qiblafinder.withgoogle.com/" class="apple-blur p-4 hover:bg-white/5 transition active:scale-95">
                <i class="fa-solid fa-compass text-emerald-500 mb-1"></i>
                <span class="block text-[9px] uppercase font-bold opacity-60">Qibla</span>
            </a>
            <a href="https://www.islamicfinder.org/duas/" class="apple-blur p-4 hover:bg-white/5 transition active:scale-95">
                <i class="fa-solid fa-kaaba text-emerald-500 mb-1"></i>
                <span class="block text-[9px] uppercase font-bold opacity-60">Daily Dua</span>
            </a>
            <button onclick="document.getElementById('fullTable').scrollIntoView({behavior:'smooth'})" class="apple-blur p-4 hover:bg-white/5 transition active:scale-95">
                <i class="fa-solid fa-list-ul text-emerald-500 mb-1"></i>
                <span class="block text-[9px] uppercase font-bold opacity-60">Calendar</span>
            </button>
        </div>
    </header>

    <main class="px-5 space-y-4 max-w-md mx-auto">
        
        <div class="apple-blur p-1">
            <div class="bg-white/[0.02] rounded-[24px] p-6">
                <div class="flex items-center justify-between mb-8">
                    <h3 class="text-xs font-bold uppercase tracking-widest text-white/40">Today Timings</h3>
                    <span id="todayLabel" class="text-[10px] bg-emerald-500/10 text-emerald-400 px-3 py-1 rounded-full border border-emerald-500/20">Feb 19</span>
                </div>
                
                <div class="space-y-6">
                    <div class="flex justify-between items-end">
                        <div>
                            <p class="text-[10px] text-white/30 uppercase mb-1">Sahur Ends</p>
                            <h4 id="displayS" class="text-3xl font-medium tracking-tight">05:14 <span class="text-sm opacity-30 uppercase">am</span></h4>
                        </div>
                        <i class="fa-solid fa-feather-pointed text-emerald-500/20 text-3xl mb-1"></i>
                    </div>
                    
                    <div class="h-[1px] bg-white/5 w-full"></div>

                    <div class="flex justify-between items-end">
                        <div>
                            <p class="text-[10px] text-white/30 uppercase mb-1">Iftar Starts</p>
                            <h4 id="displayI" class="text-3xl font-medium tracking-tight">06:12 <span class="text-sm opacity-30 uppercase">pm</span></h4>
                        </div>
                        <i class="fa-solid fa-moon text-emerald-500/20 text-3xl mb-1"></i>
                    </div>
                </div>
            </div>
        </div>

        <div id="fullTable" class="pt-6">
            <h3 class="text-[10px] uppercase tracking-[3px] text-center mb-4 opacity-30 font-bold">Full Ramadan Schedule</h3>
            <div class="apple-blur overflow-hidden">
                <div class="max-h-[300px] overflow-y-auto">
                    <table class="w-full text-left text-xs">
                        <thead class="bg-white/[0.03] text-emerald-500">
                            <tr><th class="p-4">RMD</th><th class="p-4">DATE</th><th class="p-4">SAHUR</th><th class="p-4">IFTAR</th></tr>
                        </thead>
                        <tbody id="tableData" class="divide-y divide-white/[0.02] opacity-60"></tbody>
                    </table>
                </div>
            </div>
        </div>

    </main>

    <script>
        const ramadanSchedule = [
            {r:1, d:"Feb 19", s:"05:14", i:"18:12"}, {r:2, d:"Feb 20", s:"05:14", i:"18:12"},
            {r:3, d:"Feb 21", s:"05:13", i:"18:12"}, {r:4, d:"Feb 22", s:"05:13", i:"18:13"},
            {r:5, d:"Feb 23", s:"05:12", i:"18:13"}, {r:6, d:"Feb 24", s:"05:12", i:"18:13"},
            {r:30, d:"Mar 20", s:"04:55", i:"18:19"}
        ];

        function updateApp() {
            const now = new Date();
            const todayStr = now.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });
            
            // Find today's data or next available
            const todayData = ramadanSchedule.find(x => x.d === todayStr) || ramadanSchedule[0];
            
            document.getElementById('displayS').innerHTML = todayData.s + " <span class='text-sm opacity-30'>am</span>";
            document.getElementById('displayI').innerHTML = todayData.i.replace('18:', '06:') + " <span class='text-sm opacity-30'>pm</span>";
            document.getElementById('todayLabel').innerText = todayData.d;

            // Smart Countdown Logic
            const sahurTime = new Date(now.toDateString() + " " + todayData.s);
            const iftarTime = new Date(now.toDateString() + " " + todayData.i);
            
            let target, title;
            if (now < sahurTime) {
                target = sahurTime;
                title = "Time until Sahur Ends";
            } else if (now < iftarTime) {
                target = iftarTime;
                title = "Time until Iftar Starts";
            } else {
                // Countdown to tomorrow's Sahur (Simplified for logic)
                target = new Date(now.getTime() + 86400000); 
                title = "Preparing for tomorrow";
            }
            
            document.getElementById('countTitle').innerText = title;

            const diff = target - now;
            document.getElementById('d').innerText = String(Math.floor(diff / 86400000)).padStart(2, '0');
            document.getElementById('h').innerText = String(Math.floor((diff % 86400000) / 3600000)).padStart(2, '0');
            document.getElementById('m').innerText = String(Math.floor((diff % 3600000) / 60000)).padStart(2, '0');
            document.getElementById('s').innerText = String(Math.floor((diff % 60000) / 1000)).padStart(2, '0');
        }

        // Fill Table
        const tbody = document.getElementById('tableData');
        ramadanSchedule.forEach(r => {
            tbody.innerHTML += `<tr class="hover:bg-white/[0.02]">
                <td class="p-4 font-bold">${r.r}</td><td class="p-4">${r.d}</td>
                <td class="p-4 text-emerald-400 font-medium">${r.s}</td><td class="p-4 text-emerald-400 font-medium">${r.i.replace('18:', '06:')}</td>
            </tr>`;
        });

        setInterval(updateApp, 1000);
        updateApp();
    </script>
</body>
</html>
