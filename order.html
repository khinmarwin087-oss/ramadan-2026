<!DOCTYPE html>
<html lang="my">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ramadan Master 2026 - Premium Edition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
        <style>
    @import url('https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Pyidaungsu:wght@400;700&family=Cinzel:wght@400;700&family=Reem+Kufi:wght@400;700&family=Outfit:wght@200;400;600&display=swap');
            
    @import url('https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Pyidaungsu:wght@400;700&family=Cinzel:wght@400;700&family=Reem+Kufi:wght@400;700&display=swap');
    body { font-family: 'Pyidaungsu', sans-serif; background: #050505; color: #fff; min-height: 100vh; overflow-x: hidden; }
    .arabic { font-family: 'Reem Kufi', sans-serif; }
    .premium-font { font-family: 'Cinzel', serif; }
    #bgSlider { position: fixed; inset: 0; z-index: -2; background-size: cover; background-position: center; transition: background-image 2s; }
    .overlay { position: fixed; inset: 0; z-index: -1; background: radial-gradient(circle at center, rgba(0,0,0,0.2) 0%, rgba(0,0,0,0.85) 100%); }
    
    /* Countdown Box (Glass) - နေ/လ ထည့်ရန် relative ပေးထားသည် */
    :root {
    --gold-grad: linear-gradient(135deg, #d4af37 0%, #fcf6ba 45%, #b38728 100%);
}

.sky-card {
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid rgba(212, 175, 55, 0.2);
    border-radius: 45px;
    padding: 40px 20px;
    position: relative;
    overflow: hidden;
    backdrop-filter: blur(30px);
}

.premium-gold {
    background: var(--gold-grad);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    font-weight: 700;
}
            
    #calendarDrawer { transform: translateY(100%); transition: transform 0.6s cubic-bezier(0.16, 1, 0.3, 1); }
    #calendarDrawer.open { transform: translateY(0); }
    #posterCanvas { position: fixed; left: -9999px; background: #000; line-height: 1.6; }
    input::placeholder, textarea::placeholder { color: rgba(255,255,255,0.3); }
    .today-highlight { background: rgba(212, 175, 55, 0.15); border-left: 4px solid #D4AF37; }
    .prayer-card {
    background: rgba(255, 255, 255, 0.02);
    border-radius: 30px;
    padding: 22px 28px;
    margin-bottom: 15px;
    border: 1px solid rgba(255, 255, 255, 0.04);
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: 0.5s;
}

.prayer-card.active {
    background: rgba(212, 175, 55, 0.07);
    border: 1px solid rgba(212, 175, 55, 0.3);
    transform: scale(1.02);
    box-shadow: 0 0 30px rgba(212, 175, 55, 0.1);
}

.next-badge {
    background: var(--gold-grad);
    color: #000;
    font-size: 8px;
    padding: 3px 12px;
    border-radius: 20px;
    font-weight: 800;
    letter-spacing: 2px;
    text-transform: uppercase;
    margin-bottom: 8px;
}
            
    .custom-scrollbar::-webkit-scrollbar { width: 3px; }
    .custom-scrollbar::-webkit-scrollbar-track { background: rgba(255,255,255,0.05); }
    .custom-scrollbar::-webkit-scrollbar-thumb { background: #BF953F; border-radius: 10px; }
    .arabic-text { font-family: 'Amiri', serif !important; font-variant-ligatures: common-ligatures !important; -webkit-font-feature-settings: "liga" 1, "kern" 1 !important; font-feature-settings: "liga" 1, "kern" 1 !important; direction: rtl; text-transform: none !important; white-space: nowrap; }
    .mm-text { font-family: 'Pyidaungsu', sans-serif; font-feature-settings: "kern" 1, "liga" 1; }
    .zakat-box { background: rgba(255, 255, 255, 0.03); border: 1px solid rgba(212, 175, 55, 0.2); border-radius: 25px; padding: 20px; margin: 15px; }
    .zakat-input { background: rgba(0, 0, 0, 0.3); border: 1px solid rgba(255, 255, 255, 0.1); color: #fff; padding: 12px; border-radius: 12px; width: 100%; margin-top: 5px; outline: none; }
    .zakat-input:focus { border-color: #D4AF37; }
    .nisab-info { font-size: 11px; color: #BF953F; margin-bottom: 15px; border-left: 2px solid #BF953F; padding-left: 10px; }

    /* --- Box ထဲက Arc & Celestial ပုံစံအသစ် --- */
    
/* Arc Container ကို Box ထိပ်မှာ နေရာချခြင်း */
.arc-container {
    position: absolute;
    top: 20px; /* အပေါ်က မလွတ်တာကို ဖြေရှင်းရန် အောက်နည်းနည်းချထားသည် */
    left: 50%;
    transform: translateX(-50%);
    width: 85%;
    height: 120px; /* မျဉ်းကွေး အမြင့် */
    overflow: visible;
    z-index: 5;
}

/* မျဉ်းကွေးတစ်ဝက်ပုံစံ (Semi-circle) */
.sky-path-mini {
    position: absolute;
    width: 100%;
    height: 200%; /* ဝိုင်းဝိုင်းလေး ဖြစ်စေရန် */
    border: 0.5px dashed rgba(212, 175, 55, 0.3); /* ပါးပါးကြည်ကြည်လေး */
    border-radius: 50%;
    top: 0;
    left: 0;
    /* မျဉ်းကွေးရဲ့ အပေါ်တစ်ဝက်ကိုပဲ ပြရန် masking သုံးလို့ရသလို ရိုးရိုးပဲ ထားရင်လည်း ရသည် */
}

/* နေ/လ ပုံစံ */
.arc-path {
    position: absolute;
    top: 45px; left: 10%; width: 80%; height: 200px;
    border-radius: 50%;
    border-top: 1px dashed rgba(212, 175, 55, 0.15);
    pointer-events: none;
}

.celestial {
    position: absolute;
    width: 32px; height: 32px;
    border-radius: 50%;
    transform: translate(-50%, -50%);
    filter: drop-shadow(0 0 15px currentColor);
    transition: all 1s cubic-bezier(0.165, 0.84, 0.44, 1);
}
            

.sun-mini { 
    background: radial-gradient(circle, #fff, #ffcc00, #ff8800); 
    box-shadow: 0 0 20px #ffaa00; 
}

.moon-mini { 
    background: #f0f0f0; 
    box-shadow: 0 0 15px rgba(255,255,255,0.4); 
    overflow: hidden; 
}

    
    /* Stars & Clouds (Background မှာပဲ ထားမယ်) */
    #starsContainer { position: fixed; inset: 0; z-index: -1; }
    .star { position: absolute; background: white; border-radius: 50%; animation: twinkle var(--d) infinite; }
    @keyframes twinkle { 0%, 100% { opacity: 0.2; transform: scale(0.8); } 50% { opacity: 1; transform: scale(1.2); } }
        </style>
    
    
</head>
    
<body class="pb-24">

    <div id="bgSlider"></div>
    <div class="overlay"></div>

    <div class="max-w-md mx-auto px-6 pt-12">
        <header class="text-center mb-12">
            <h1 class="arabic text-6xl gold-text mb-4">رمضان كريم</h1>
            <p class="premium-font text-[11px] tracking-[0.5em] text-yellow-500/80 uppercase font-bold">Yangon, Myanmar • 2026</p>
        </header>

        <div id="skyCanvas">
    <div id="starsContainer" class="opacity-0 transition-opacity duration-1000"></div>
    <div id="cloudsContainer"></div>
    <div class="sky-path">
        <div id="sun" class="celestial sun-live"></div>
        <div id="moon" class="celestial moon-live">
            <div id="mShadow" class="moon-shadow"></div>
        </div>
    </div>
        </div>
        
        
        
<div class="glass rounded-[50px] px-4 py-10 text-center mb-8 relative overflow-hidden">
    
    <div class="arc-container">
        <div class="sky-path-mini"></div>
        <div id="sunMini" class="celestial-mini sun-mini"></div>
        <div id="moonMini" class="celestial-mini moon-mini">
            <div id="mShadowMini" class="moon-shadow-mini"></div>
        </div>
    </div>

    <div class="sky-card text-center mb-8 mx-2">
    <div class="arc-path"></div>
    <div id="sun" class="celestial text-yellow-400" style="background: radial-gradient(circle, #fff, #ffcc00);"></div>
    <div id="moon" class="celestial text-white" style="background: radial-gradient(circle, #fff, #ddd);"></div>

    <div class="relative z-10 pt-4">
        <div class="flex flex-col items-center mb-6">
            <span class="next-badge">Next Prayer</span>
            <div class="flex items-center gap-3">
                <h1 id="nextName" class="text-3xl font-semibold tracking-tight">---</h1>
                <span id="nextTime" class="premium-gold text-lg">--:-- --</span>
            </div>
        </div>

        <div class="flex justify-center items-center gap-2 mb-4">
            <div class="text-center">
                <span id="h" class="text-6xl font-thin tracking-tighter">00</span>
            </div>
            <span class="text-3xl opacity-20 mb-2">:</span>
            <div class="text-center">
                <span id="m" class="text-6xl font-thin tracking-tighter">00</span>
            </div>
            <span class="text-3xl premium-gold mb-2">:</span>
            <div class="text-center">
                <span id="s" class="text-6xl font-bold tracking-tighter">00</span>
            </div>
        </div>
        <p id="statusLabel" class="text-[10px] uppercase tracking-[0.6em] opacity-30">Checking Time...</p>
        
        <div class="mt-8 px-4 border-t border-white/5 pt-6">
            <p id="duaLabel" class="text-[9px] text-yellow-500/50 mb-4 tracking-[0.2em] uppercase font-bold">ဝါပိတ်ရန် နီယသ်ပြုခြင်း</p>
            <p id="duaArabic" class="arabic text-2xl text-white/95 leading-relaxed mb-2">نَوَيْتُ أَنْ أَصُومَ غَدًا مِنْ شَهْرِ رَمَضَانَ</p>
            <p id="duaMyanmar" class="text-[11px] text-white/40 font-light italic leading-relaxed">"ကျွန်ုပ်သည် ရမ္မဿွာန်လ၏ ဥပုသ်သီလကို ဆောက်တည်ရန် နီယသ်ပြုပါ၏"</p>
        </div>
    </div>
    </div>
    
        
        <div id="prayer-list" class="px-2">
    <div id="row-fajar" class="prayer-card">
        <span class="text-[14px] opacity-50 font-medium">ဖဂျရ် (Fajar)</span>
        <span id="fajarTimeDisplay" class="text-[16px] tracking-widest font-light">05:16 AM</span>
    </div>
    
    <div id="row-zohar" class="prayer-card">
        <span id="zoharJummaLabel" class="text-[14px] opacity-50 font-medium">ဇုဟ်ရ် (Zohar)</span>
        <span id="zoharJummaTime" class="text-[16px] tracking-widest font-light">12:30 PM</span>
    </div>
    
    <div id="row-aser" class="prayer-card">
        <span class="text-[14px] opacity-50 font-medium">အဆွရ် (Aser)</span>
        <span id="aserTimeDisplay" class="text-[16px] tracking-widest font-light">04:45 PM</span>
    </div>
    
    <div id="row-magrib" class="prayer-card">
        <div class="flex flex-col text-left">
            <span class="text-[14px] font-bold premium-gold">မဂ်ရိဗ် (Magrib)</span>
            <span class="text-[9px] opacity-40 uppercase tracking-widest">Iftar Time</span>
        </div>
        <span id="magribTimeDisplay" class="text-[16px] tracking-widest font-bold premium-gold">06:11 PM</span>
    </div>
    
    <div id="row-esha" class="prayer-card">
        <span class="text-[14px] opacity-50 font-medium">အီရှာ (Esha)</span>
        <span id="eshaTimeDisplay" class="text-[16px] tracking-widest font-light">07:25 PM</span>
    </div>
        </div>
    
        

        

        <div class="glass rounded-[50px] p-8 mb-8">
            <div class="flex justify-between items-center mb-10 px-2">
                <span id="displayDate" class="premium-font text-xs tracking-widest opacity-70">FEB 19, 2026</span>
                <span id="dayCount" class="premium-font text-xs tracking-widest gold-text font-bold">DAY 01</span>
            </div>
            <div class="grid grid-cols-2 gap-6 text-center">
                <div>
                    <p class="text-[9px] opacity-50 mb-3 uppercase tracking-widest">ဝါပိတ်ချိန်</p>
                    <h2 id="sehriTime" class="text-3xl font-light">05:14 AM</h2>
                </div>
                <div class="border-l border-yellow-500/10">
                    <p class="text-[9px] text-yellow-500/80 mb-3 uppercase tracking-widest font-bold">ဝါဖြေချိန်</p>
                    <h2 id="iftarTime" class="text-3xl gold-text font-bold">06:12 PM</h2>
                </div>
            </div>
            <button onclick="showImagePicker()" class="w-full mt-10 py-5 bg-white/5 border border-yellow-500/30 rounded-full text-[10px] font-bold tracking-[0.3em] uppercase flex items-center justify-center gap-3 active:scale-95 transition-transform">
                <i class="fa-solid fa-crown gold-text"></i> Create Premium Poster
            </button>
        </div>

        <div class="fixed bottom-6 left-1/2 -translate-x-1/2 w-[90%] max-w-md glass rounded-full p-2 flex justify-between items-center z-40">
            <button onclick="toggleCalendar()" class="flex-1 flex flex-col items-center gap-1 py-2 text-white/60">
                <i class="fa-solid fa-calendar-alt text-lg"></i>
                <span class="text-[8px] uppercase">Calendar</span>
            </button>
            <a href="https://qiblafinder.withgoogle.com" target="_blank" class="flex-1 flex flex-col items-center gap-1 py-2 text-white/60 border-x border-white/5">
                <i class="fa-solid fa-kaaba text-lg"></i>
                <span class="text-[8px] uppercase">Qibla</span>
            </a>
            <a href="https://www.islamicfinder.org/duas" target="_blank" class="flex-1 flex flex-col items-center gap-1 py-2 text-white/60">
                <i class="fa-solid fa-book-open-reader text-lg"></i>
                <span class="text-[8px] uppercase">Daily Dua</span>
            </a>
        </div>
    </div>

    <div id="posterCanvas" class="premium-font">
        <div id="p-bg" style="position: absolute; inset: 0; background-size: cover; background-position: center;"></div>
        <div style="position: absolute; inset: 0; background: radial-gradient(circle at center, rgba(0,0,0,0.1), rgba(0,0,0,0.95));"></div>
        
        <div style="position: relative; z-index: 10; height: 100%; display: flex; flex-direction: column; align-items: center; padding: 120px 80px; text-align: center;">
            <p style="font-size: 35px; color: #D4AF37; letter-spacing: 15px; margin-bottom: 30px; font-weight: bold;">RAMADAN 2026</p>
            <div class="arabic" style="font-size: 150px; color: #FCF6BA; margin-bottom: 50px;">رمضان كريم</div>
            
            <div style="width: 100%; background: rgba(0,0,0,0.6); border: 1px solid rgba(212,175,55,0.3); border-radius: 100px; padding: 100px 40px;">
                <div id="p-day-text" style="font-size: 50px; font-weight: bold; color: #FCF6BA; margin-bottom: 70px;">DAY 01 - FEB 20, 2026</div>
                <div style="display: flex; flex-direction: column; gap: 40px;">
                    <div>
                        <p style="font-size: 26px; opacity: 0.7; margin-bottom: 10px;">စဲဟ်ရီ နောက်ဆုံးအချိန်</p>
                        <h1 id="p-sehri" style="font-size: 100px; color: #fff;">05:14 AM</h1>
                    </div>
                    <div>
                        <p style="font-size: 26px; color: #D4AF37; margin-bottom: 10px; font-weight: bold;">ဝါဖြေချိန်</p>
                        <h1 id="p-iftar" style="font-size: 120px; font-weight: 800; color: #FCF6BA;">06:12 PM</h1>
                    </div>
                </div>
            </div>

            <div id="p-duration" style="margin-top: 60px; font-size: 28px; color: #D4AF37; font-weight: bold;"></div>

            <div id="p-footer" style="margin-top: auto; width: 100%; display: none;">
                <div id="p-dua-box" class="arabic" style="font-size: 60px; color: #FCF6BA; margin-bottom: 20px; display: none;">
                    اللَّهُمَّ لَكَ صُمْتُ وَعَلَى رِزْقِكَ أَفْطَرْتُ
            </div>
                <div id="out-name" style="font-size: 60px; font-weight: bold; color: #FCF6BA;"></div>
                <div id="out-desc" style="font-size: 30px; color: #fff; opacity: 0.8; margin: 10px 0;"></div>
                <div id="out-phone" style="font-size: 40px; color: #D4AF37; font-weight: bold;"></div>
            </div>

            <div id="p-default-footer" style="margin-top: auto;">
                <div style="font-size: 14px; opacity: 0.4; letter-spacing: 10px; text-transform: uppercase; color: #fff;">
                    Premium Collectors Edition
                </div>
            </div>
        </div>
    </div>

    <div id="imagePicker" class="fixed inset-0 z-[100] bg-black/98 backdrop-blur-3xl p-8 hidden overflow-y-auto">
        <div class="flex justify-between items-center mb-8">
            <h2 class="premium-font text-2xl gold-text">Select Background</h2>
            <button onclick="closePicker()" class="text-4xl">&times;</button>
        </div>
        <label class="block w-full py-8 border-2 border-dashed border-yellow-500/30 rounded-3xl text-center cursor-pointer bg-white/5 mb-8">
            <i class="fa-solid fa-cloud-arrow-up text-3xl gold-text mb-2"></i><br>
            <span class="text-[10px] gold-text font-bold">UPLOAD YOUR PHOTO</span>
            <input type="file" id="u-file" accept="image/*" class="hidden" onchange="handleCustomImage(event)">
        </label>
        <div class="grid grid-cols-2 gap-4" id="pickerGrid"></div>
    </div>

    <div id="askModal" class="fixed inset-0 z-[110] bg-black/95 backdrop-blur-xl p-8 hidden flex flex-col items-center justify-center">
        <h2 class="premium-font text-xl gold-text mb-10 text-center">Poster မှာ ဆိုင်ကြော်ငြာစာသားတွေ ထည့်ဦးမလား?</h2>
        <div class="w-full max-w-xs space-y-4">
            <button onclick="showDetailForm()" class="w-full py-4 bg-yellow-500 text-black font-bold rounded-full uppercase text-xs">စာသားထည့်မယ်</button>
            <button onclick="generateFinalPoster(false)" class="w-full py-4 border border-white/20 rounded-full uppercase text-xs">မထည့်ဘူး (တန်းထုတ်မယ်)</button>
        </div>
    </div>

    <div id="detailForm" class="fixed inset-0 z-[120] bg-black/98 backdrop-blur-2xl p-8 hidden flex flex-col justify-center">
        <div class="max-w-md mx-auto w-full space-y-4">
            <h2 class="premium-font text-2xl gold-text mb-4 text-center">ဆိုင်အချက်အလက်များ</h2>
            <input type="text" id="bName" class="w-full bg-white/5 border border-yellow-500/20 rounded-xl p-4 text-white" placeholder="ဆိုင်နာမည် (ဥပမာ- ရဲနိုင်စိုး)">
            <textarea id="bDesc" class="w-full bg-white/5 border border-yellow-500/20 rounded-xl p-4 text-white" placeholder="ကြော်ငြာစာသား" rows="3"></textarea>
            <input type="text" id="bPhone" class="w-full bg-white/5 border border-yellow-500/20 rounded-xl p-4 text-white" placeholder="ဖုန်းနံပါတ်">
            <div class="flex items-center gap-3 p-3 bg-white/5 border border-white/10 rounded-xl">
                <input type="checkbox" id="includeDua" class="w-5 h-5 accent-yellow-500">
                <label for="includeDua" class="text-sm">Arabic Dua (ဒုအာ) ထည့်မည်</label>
            </div>
            <button onclick="generateFinalPoster(true)" class="w-full py-5 bg-yellow-500 text-black font-bold rounded-full uppercase tracking-widest">Download Final Poster</button>
            <button onclick="document.getElementById('detailForm').classList.add('hidden')" class="w-full text-white/30 text-xs">Back</button>
        </div>
    </div>

    <div id="calendarDrawer" class="fixed inset-0 z-50 bg-black/95 backdrop-blur-2xl flex flex-col pt-16">
        <div class="px-8 flex justify-between items-center mb-10">
            <h2 class="premium-font text-3xl gold-text">Timetable 2026</h2>
            <button onclick="toggleCalendar()" class="text-4xl">&times;</button>
        </div>
        <div class="flex-grow overflow-y-auto px-8 pb-32">
            <table class="w-full text-left">
                <thead class="text-[10px] text-yellow-500/50 uppercase">
                    <tr><th class="pb-6">Day</th><th class="pb-6">Date</th><th class="pb-6">Sehri</th><th class="pb-6">Iftar</th></tr>
                </thead>
                <tbody id="calBody" class="text-sm divide-y divide-white/5"></tbody>
            </table>
        </div>
    </div>

        <div class="max-w-md mx-auto px-6 mb-32">
    <div class="text-center mb-6">
        <h2 class="premium-font text-lg gold-text font-bold">တောင်ဥက္ကလာပမြို့နယ်လုံးဆိုင်ရာ စွန္နီဂျာမေဗလီကြီး</h2>
        <div class="h-[1px] w-1/2 bg-gradient-to-r from-transparent via-yellow-500 to-transparent mx-auto mt-2"></div>
    </div>

    <div class="glass rounded-[30px] p-6 mb-6 border border-white/10">
        <h3 class="premium-font text-sm gold-text mb-4 text-center tracking-widest uppercase font-bold">သရာဝီဟ် နမာဇ် ဦးဆောင်မည့် ဟာဖီဇ်များ</h3>
        <div class="grid grid-cols-2 gap-3 text-[11px] text-white/80">
            <div class="bg-white/5 p-3 rounded-xl border border-white/5">၁။ မော်လာဝီ ဟာဖီဇ် မုဟမ္မဒ် ယာစီးန်</div>
            <div class="bg-white/5 p-3 rounded-xl border border-white/5">၂။ ဟာဖီဇ် မုဟမ္မဒ် ကေရီယာ</div>
            <div class="bg-white/5 p-3 rounded-xl border border-white/5">၃။ ဟာဖီဇ် မုဟမ္မဒ် အီဗိုင်ဒုလ်</div>
            <div class="bg-white/5 p-3 rounded-xl border border-white/5">၄။ ဟာဖီဇ် အဗ္ဗဒုလ် ဂျဗ္ဗာရ်</div>
            <div class="bg-white/5 p-3 rounded-xl border border-white/5">၅။ ဟာဖီဇ် မုဟမ္မဒ် ရိုင်ဟာန်</div>
            <div class="bg-white/5 p-3 rounded-xl border border-white/5">၆။ ဟာဖီဇ် မုဟမ္မဒ် အလီ</div>
            <div class="bg-white/5 p-3 rounded-xl border border-white/5">၇။ ဟာဖီဇ် မုဟမ္မဒ် မုအားဇ်</div>
            <div class="bg-white/5 p-3 rounded-xl border border-white/5">၈။ ဟာဖီဇ် အဗ္ဗဒုရ် ရဟ်မာန်</div>
            <div class="bg-white/5 p-3 rounded-xl border border-white/5">၉။ ဟာဖီဇ် မုဟမ္မဒ် အီက္ကရမ်</div>
            <div class="bg-white/5 p-3 rounded-xl border border-white/5">၁၀။ ဟာဖီဇ် မုဟမ္မဒ် အီရိုင်ရှ်</div>
        </div>
        <p class="text-[10px] text-center mt-4 text-yellow-500/60 italic font-bold">ဟာဖီဇ် မော်လာဝီ မုဖ်သီ မုဟမ္မဒ် သွလ်ဟဟ်</p>
    </div>

    <div class="glass rounded-[30px] p-6 border border-white/10">
        <h3 class="premium-font text-sm gold-text mb-4 text-center tracking-widest uppercase font-bold">တရားဟောကြားမည့် ဆရာတော်များ</h3>
        <div class="space-y-3 overflow-y-auto max-h-[300px] pr-2 custom-scrollbar">
            <div class="p-4 bg-white/5 rounded-2xl border-l-2 border-yellow-500/30">
                <p class="text-[9px] text-yellow-500 mb-1">21-2-2026 (စနေနေ့)</p>
                <p class="text-[11px] font-bold">အလ်ဟာဂ်ျ မော်လာနာ မုဟမ္မဒ် အာဒမ် ဆွာဟိဗ် (မဒါဟေရီ)</p>
            </div>
            <div class="p-4 bg-white/5 rounded-2xl border-l-2 border-yellow-500/30">
                <p class="text-[9px] text-yellow-500 mb-1">23-2-2026 (တနင်္လာနေ့)</p>
                <p class="text-[11px] font-bold">အလ်ဟာဂ်ျ မော်လာနာ မုဖ်သီ ကာရီ မုဟမ္မဒ် အရီဖုလ်လောဟ် ဆွာဟိဗ်</p>
            </div>
            <div class="p-4 bg-white/5 rounded-2xl border-l-2 border-yellow-500/30">
                <p class="text-[9px] text-yellow-500 mb-1">28-2-2026 (စနေနေ့)</p>
                <p class="text-[11px] font-bold">အလ်ဟာဂ်ျ မော်လာနာ အဗ္ဗဒုရ်ရဟီးမ် ဆွာဟိဗ် (ဒါအ်ဝါနီ)</p>
            </div>
            <div class="p-4 bg-white/5 rounded-2xl border-l-2 border-yellow-500/30">
                <p class="text-[9px] text-yellow-500 mb-1">7-3-2026 (စနေနေ့)</p>
                <p class="text-[11px] font-bold">အလ်ဟာဂ်ျ မော်လာနာ မုဟမ္မဒ် အရှ်ရဖ်အလီ ဆွာဟိဗ် (မဟ်သုမီ)</p>
            </div>
            <div class="p-4 bg-white/5 rounded-2xl border-l-2 border-yellow-500/30">
                <p class="text-[9px] text-yellow-500 mb-1">14-3-2026 (စနေနေ့)</p>
                <p class="text-[11px] font-bold">အလ်ဟာဂ်ျ မော်လာနာ မုဖ်သီ အနတ်စ် ဆွာဟိဗ်</p>
            </div>
        </div>
    </div>
    </div>

 <div class="zakat-box glass">
    <h3 class="premium-font text-center gold-text text-xl mb-4">Zakat Calculator</h3>
    
    <div class="nisab-info">
        ဇကားသ်ပေးဆောင်ရန် မိမိပိုင်ဆိုင်မှုသည် ငွေ (Silver) ၅၂.၅ ကျပ်သား (သို့မဟုတ်) ရွှေ ၇.၅ ကျပ်သား တန်ဖိုးထက် ကျော်လွန်ရပါမည်။ တစ်နှစ်ပြည့်ပြီးသော ပိုင်ဆိုင်မှုများမှ ၂.၅% ကို ပေးဆောင်ရပါမည်။
    </div>

    <div class="space-y-4">
        <div>
            <label class="text-xs text-white/70">စုစုပေါင်း ပိုင်ဆိုင်မှု (ရွှေ၊ ငွေ၊ လက်ကျန်ငွေ၊ အိမ်ခြံမြေ)</label>
            <input type="number" id="totalWealth" oninput="calculateZakat()" class="zakat-input" placeholder="စုစုပေါင်း တန်ဖိုး ထည့်ပါ">
        </div>

        <div>
            <label class="text-xs text-white/70">နုတ်ပယ်ရမည့် အကြွေး/ကုန်ကျစရိတ်များ</label>
            <input type="number" id="totalDebt" oninput="calculateZakat()" class="zakat-input" placeholder="အကြွေးရှိပါက ထည့်ပါ">
        </div>

        <div class="pt-4 border-t border-white/10">
            <div class="flex justify-between mb-2">
                <span class="text-xs text-white/50">အသားတင် ပိုင်ဆိုင်မှု:</span>
                <span id="netWealth" class="text-xs">0 MMK</span>
            </div>
            <div class="flex justify-between items-center bg-yellow-500/10 p-4 rounded-2xl border border-yellow-500/30">
                <span class="gold-text font-bold text-sm">ဇကားသ်ပေးရန် ပမာဏ:</span>
                <span id="zakatResult" class="text-lg font-bold text-white">0 MMK</span>
            </div>
        </div>
    </div>
 </div>
    
    
    <script>
        let warningPlayed = false;
let azanPlayed = false;
const warningSound = new Audio('https://www.soundjay.com/buttons/beep-01a.mp3'); // နမူနာအသံ
const azanSound = new Audio('https://www.islamcan.com/audio/adhan/azan1.mp3'); // နမူနာအသံ
        
        
          const ramadanData = [
    { r: 1, date: "Feb 20", s: "05:11", i: "06:11", z: "12:30", a: "04:45", e: "07:25", fj: "05:16" },
    { r: 2, date: "Feb 21", s: "05:11", i: "06:11", z: "12:30", a: "04:45", e: "07:25", fj: "05:16" },
    { r: 3, date: "Feb 22", s: "05:10", i: "06:12", z: "12:30", a: "04:45", e: "07:25", fj: "05:15" },
    { r: 4, date: "Feb 23", s: "05:10", i: "06:12", z: "12:30", a: "04:45", e: "07:25", fj: "05:15" },
    { r: 5, date: "Feb 24", s: "05:09", i: "06:13", z: "12:30", a: "04:45", e: "07:25", fj: "05:14" },
    { r: 6, date: "Feb 25", s: "05:09", i: "06:13", z: "12:30", a: "04:45", e: "07:25", fj: "05:14" },
    { r: 7, date: "Feb 26", s: "05:08", i: "06:13", z: "12:30", a: "04:45", e: "07:25", fj: "05:13" },
    { r: 8, date: "Feb 27", s: "05:08", i: "06:13", z: "12:30", a: "04:45", e: "07:25", fj: "05:13" },
    { r: 9, date: "Feb 28", s: "05:07", i: "06:14", z: "12:30", a: "04:45", e: "07:25", fj: "05:12" },
    { r: 10, date: "Mar 01", s: "05:07", i: "06:14", z: "12:30", a: "04:45", e: "07:25", fj: "05:12" },
    { r: 11, date: "Mar 02", s: "05:06", i: "06:14", z: "12:30", a: "04:45", e: "07:25", fj: "05:11" },
    { r: 12, date: "Mar 03", s: "05:05", i: "06:15", z: "12:30", a: "04:45", e: "07:25", fj: "05:10" },
    { r: 13, date: "Mar 04", s: "05:05", i: "06:15", z: "12:30", a: "04:45", e: "07:25", fj: "05:10" },
    { r: 14, date: "Mar 05", s: "05:04", i: "06:15", z: "12:30", a: "04:45", e: "07:25", fj: "05:09" },
    { r: 15, date: "Mar 06", s: "05:03", i: "06:16", z: "12:30", a: "04:45", e: "07:25", fj: "05:08" },
    { r: 16, date: "Mar 07", s: "05:03", i: "06:16", z: "12:30", a: "04:45", e: "07:25", fj: "05:08" },
    { r: 17, date: "Mar 08", s: "05:02", i: "06:16", z: "12:30", a: "04:45", e: "07:25", fj: "05:07" },
    { r: 18, date: "Mar 09", s: "05:01", i: "06:16", z: "12:30", a: "04:45", e: "07:25", fj: "05:06" },
    { r: 19, date: "Mar 10", s: "05:01", i: "06:16", z: "12:30", a: "04:45", e: "07:25", fj: "05:06" },
    { r: 20, date: "Mar 11", s: "05:00", i: "06:17", z: "12:30", a: "04:45", e: "07:25", fj: "05:05" },
    { r: 21, date: "Mar 12", s: "04:59", i: "06:17", z: "12:30", a: "04:45", e: "07:25", fj: "05:04" },
    { r: 22, date: "Mar 13", s: "04:58", i: "06:17", z: "12:30", a: "04:45", e: "07:25", fj: "05:03" },
    { r: 23, date: "Mar 14", s: "04:58", i: "06:17", z: "12:30", a: "04:45", e: "07:25", fj: "05:03" },
    { r: 24, date: "Mar 15", s: "04:57", i: "06:17", z: "12:30", a: "04:45", e: "07:25", fj: "05:02" },
    { r: 25, date: "Mar 16", s: "04:56", i: "06:17", z: "12:30", a: "04:45", e: "07:25", fj: "05:01" },
    { r: 26, date: "Mar 17", s: "04:56", i: "06:18", z: "12:30", a: "04:45", e: "07:25", fj: "05:01" },
    { r: 27, date: "Mar 18", s: "04:55", i: "06:18", z: "12:30", a: "04:45", e: "07:25", fj: "05:00" },
    { r: 28, date: "Mar 19", s: "04:54", i: "06:18", z: "12:30", a: "04:45", e: "07:25", fj: "04:59" },
    { r: 29, date: "Mar 20", s: "04:53", i: "06:18", z: "12:30", a: "04:45", e: "07:25", fj: "04:58" },
    { r: 30, date: "Mar 21", s: "04:52", i: "06:18", z: "12:30", a: "04:45", e: "07:25", fj: "04:57" }
];
        

        
        
    const mosques = [
    "https://i.ibb.co/JWv1wyPw/unnamed-1.webp",
    "https://i.ibb.co/TDBf0xtp/unnamed.webp",
    "https://i.ibb.co/zTG8qt78/Shah-Jahan-Mosque-TQ0159-214.jpg",
    "https://i.ibb.co/DD5Y2brw/images-1-1771489265632.jpg",
    "https://i.ibb.co/Q3MG31x7/images-1-1771489259152.jpg",
    "https://i.ibb.co/S4Frd5FG/images-1-1771489245990.jpg",
    "https://i.ibb.co/BVTyRS7v/images-1-1771489234110.jpg",
    "https://i.ibb.co/BK79wxSG/images-1-1771489224863.jpg",
    "https://i.ibb.co/DP7xfPJ4/images-1-1771489217457.jpg",
    "https://i.ibb.co/N2NpbRCK/nick-fewings-Zc-BY-mx-VBCE-unsplash.jpg",
    "https://i.ibb.co/hRKySGPz/rachelle-magpayo-Yt-Vs-AUt5ubs-unsplash.jpg",
    "https://i.ibb.co/xxRTbdd/ishan-seefromthesky-66-Tu10-Cx-YY0-unsplash.jpg",
    "https://i.ibb.co/hJSnKLBJ/gabut-production-J8fj-Xa-L1c5-M-unsplash.jpg",
    "https://i.ibb.co/gb0thnTz/juan-camilo-guarin-p-nj-EXj-Dm-Yn8w-unsplash.jpg",
    "https://i.ibb.co/JjpZQ0JG/ayse-bek-YLd-YVz-Hopto-unsplash.jpg",
    "https://i.ibb.co/bg1pM2rN/fahrul-azmi-gy-Km-F0vnf-Bs-unsplash.jpg",
    "https://i.ibb.co/s9yt8kJH/daniel-olah-2l-MK4dgqw-FM-unsplash.jpg",
    "https://i.ibb.co/DPrsSMMr/simon-spring-Oqkq-UVpe-REQ-unsplash.jpg"
];
        
        let selectedImg = "";
        let bgIdx = 0;

        // Slider
        setInterval(() => {
            bgIdx = (bgIdx + 1) % mosques.length;
            document.getElementById('bgSlider').style.backgroundImage = `url('${mosques[bgIdx]}')`;
        }, 8000);
        document.getElementById('bgSlider').style.backgroundImage = `url('${mosques[0]}')`;

        function to12(t) {
            let [h, m] = t.split(':'); h = parseInt(h);
            return `${h % 12 || 12}:${m} ${h >= 12 ? 'PM' : 'AM'}`;
        }

        function getDuration(s, i) {
            let start = new Date("2026-01-01 " + s);
            let end = new Date("2026-01-01 " + i);
            let diff = (end - start) / 1000 / 60;
            return `${Math.floor(diff/60)} HOURS ${diff%60} MINUTES`;
        }

        function update() {
    const now = new Date();
    const monNames = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
    const mon = monNames[now.getMonth()];
    const dayStr = mon + " " + String(now.getDate()).padStart(2, '0');
    
    // ဗလီအချိန်ဇယား data ထဲက ရှာမယ်
        let todayIdx = ramadanData.findIndex(d => d.date === dayStr);
    if (todayIdx === -1) todayIdx = 0;
    let today = ramadanData[todayIdx];
    let displayData = today; // UI အတွက် သီးသန့်သုံးရန်
            
            
    // အချိန်တွက်ချက်ခြင်း (AM/PM တိကျစွာထည့်ထားသည်)
    let sTime = new Date(`${today.date}, 2026 ${today.s}:00 AM`);
    let iTime = new Date(`${today.date}, 2026 ${today.i}:00 PM`);
    
    let target;
    let statusText = "";

    if (now < sTime) {
        target = sTime;
        statusText = "ဝါပိတ်ချိန် ရောက်ရှိရန်";
    } else if (now < iTime) {
        target = iTime;
        statusText = "ဝါဖြေချိန် ရောက်ရှိရန်";
        } else {
        target = new Date(sTime.getTime() + 86400000); 
        statusText = "ဝါပိတ်ချိန် ရောက်ရှိရန်";
        // ဝါဖြေပြီးတာနဲ့ Card မှာ နောက်နေ့ data ပြောင်းမယ်
        if (ramadanData[todayIdx + 1]) {
            displayData = ramadanData[todayIdx + 1];
        }
    }

    // UI ပေါ်မှာ ပြသခြင်း (displayData ကို သုံးလိုက်တာပါ)
    document.getElementById('displayDate').innerText = displayData.date.toUpperCase() + ", 2026";
    document.getElementById('dayCount').innerText = "DAY " + String(displayData.r).padStart(2, '0');
    document.getElementById('sehriTime').innerText = displayData.s + " AM";
    document.getElementById('iftarTime').innerText = displayData.i + " PM";
            
    
    let diff = target - now;

    // Countdown နံပါတ်များ ထည့်ခြင်း
    const hEl = document.getElementById('h');
    const mEl = document.getElementById('m');
    const sEl = document.getElementById('s');
    
    hEl.innerText = String(Math.floor(diff/3600000)).padStart(2,'0');
    mEl.innerText = String(Math.floor((diff%3600000)/60000)).padStart(2,'0');
    sEl.innerText = String(Math.floor((diff%60000)/1000)).padStart(2,'0');

    // --- ၁၀ စကန့်အလို Blinking ---
    if (diff <= 10000 && diff > 0) {
        [hEl, mEl, sEl].forEach(el => el.parentElement.classList.add('blink-active'));
    } else {
        [hEl, mEl, sEl].forEach(el => el.parentElement.classList.remove('blink-active'));
    }

    // --- အသံ Logic ---
    if (diff <= 300000 && diff > 299000 && !warningPlayed) {
        warningSound.play().catch(e => console.log("Need Click"));
        warningPlayed = true;
    }
    if (diff <= 1000 && diff > -1000 && !azanPlayed) {
        azanSound.play().catch(e => console.log("Need Click"));
        azanPlayed = true;
    }
    if (diff > 301000 || diff < -5000) {
        warningPlayed = false;
        azanPlayed = false;
    }

    // စာသားနှင့် ဒုအာများကို ပြောင်းလဲခြင်း
    document.getElementById('statusLabel').innerText = statusText;
    const duaLabel = document.getElementById('duaLabel');
    const duaArabic = document.getElementById('duaArabic');
    const duaMyanmar = document.getElementById('duaMyanmar');

    if (now < sTime) {
        duaLabel.innerText = "ဝါပိတ်ရန် နီယသ်ပြုခြင်း";
        duaArabic.innerText = "نَوَيْتُ أَنْ أَصُومَ غَدًا مِنْ شَهْرِ رَمَضَانَ";
        duaMyanmar.innerText = '"ကျွန်ုပ်သည် ရမ္မဿွာန်လ၏ ရိုဇာဥပုသ်ကို ဆောက်တည်ရန် နီယသ်ပြုပါ၏"';
    } else if (now < iTime) {
        duaLabel.innerText = "ဝါဖြေချိန် ဒုအာ";
        duaArabic.innerText = "اللَّهُمَّ لَكَ صُمْتُ وَعَلَى رِزْقِكَ أَفْطَرْتُ";
        duaMyanmar.innerText = '"အို-အလ္လာဟ်အရှင်မြတ်၊ ကျွန်ုပ်သည် အရှင့်အတွက် ဥပုသ်ဆောက်တည်ခဲ့ပြီး အရှင်ပေးသနားသော ရိက္ခာတော်ဖြင့် ဝါဖြေပါ၏"';
    } else {
        duaLabel.innerText = "ဝါပိတ်ရန် နီယသ်ပြုခြင်း";
        duaArabic.innerText = "نَوَيْتُ أَنْ أَصُومَ غَدًا مِنْ شَهْرِ رَمَضَانَ ";
        duaMyanmar.innerText = '"ကျွန်ုပ်သည် ရမ္မဿွာန်လ၏ ရိုဇာဥပုသ်ကို ဆောက်တည်ရန် နီယသ်ပြုပါ၏"';
    }
            // update() function ရဲ့ အောက်ဆုံးနားမှာ ဒါကို ထည့်ပါ
    updateNextPrayer(now, today);
} // ဒါက update function ရဲ့ အပိတ် bracket ပါ
        
        function updateNextPrayer(now, today) {
    const isJumma = now.getDay() === 5; 
    const zoharTime = isJumma ? "12:45 PM" : "12:30 PM";
    const zoharName = isJumma ? "ဂျုမ္အဟ် (Jumma)" : "ဇုဟ်ရ် (Zohar)";

    // ၁။ အချိန်စာသားများကို UI တွင် Update လုပ်ခြင်း
    document.getElementById('fajarTimeDisplay').innerText = today.fj + " AM";
    document.getElementById('zoharJummaLabel').innerText = zoharName;
    document.getElementById('zoharJummaTime').innerText = zoharTime;
    document.getElementById('aserTimeDisplay').innerText = today.a + " PM";
    document.getElementById('magribTimeDisplay').innerText = today.i + " PM";
    document.getElementById('eshaTimeDisplay').innerText = today.e + " PM";

    const timeToMin = (t) => {
        let [time, modifier] = t.split(' ');
        let [hours, minutes] = time.split(':').map(Number);
        if (modifier === 'PM' && hours !== 12) hours += 12;
        if (modifier === 'AM' && hours === 12) hours = 0;
        return hours * 60 + minutes;
    };

    const currentMin = now.getHours() * 60 + now.getMinutes();
    const timeDec = now.getHours() + now.getMinutes()/60 + now.getSeconds()/3600;

    const prayers = [
        { id: "row-fajar", name: "Fajar", time: today.fj + " AM" },
        { id: "row-zohar", name: isJumma ? "Jumma" : "Zohar", time: zoharTime },
        { id: "row-aser", name: "Aser", time: today.a + " PM" },
        { id: "row-magrib", name: "Magrib", time: today.i + " PM" },
        { id: "row-esha", name: "Esha", time: today.e + " PM" }
    ];

    // ၂။ Next Prayer ရှာဖွေခြင်း
    let next = null;
    let activeIdx = -1;

    for (let i = 0; i < prayers.length; i++) {
        if (currentMin < timeToMin(prayers[i].time)) {
            next = prayers[i];
            activeIdx = i - 1; // လက်ရှိဖြတ်ကျော်ခဲ့တဲ့အချိန်ကို Active ပေးရန်
            break;
        }
    }

    if (!next) { 
        next = prayers[0]; 
        activeIdx = prayers.length - 1; 
    }

    // ၃။ UI Update (Next Badge & Highlight)
    document.getElementById('nextName').innerText = next.name;
    document.getElementById('nextTime').innerText = next.time;

    // အရင်ရှိတဲ့ Highlight တွေကို ဖျက်ပြီး Design သစ် Active Class ထည့်မယ်
    prayers.forEach(p => {
        const el = document.getElementById(p.id);
        if(el) el.classList.remove('active');
    });
    
    if (activeIdx >= 0) {
        const activeEl = document.getElementById(prayers[activeIdx].id);
        if(activeEl) activeEl.classList.add('active');
    }

    // ၄။ Celestial Motion Logic (နေ/လ ကူးခတ်မှု)
    const sun = document.getElementById('sun');
    const moon = document.getElementById('moon');
    const rx = 40; // အနံအကျယ် radius
    const ry = 100; // အမြင့် radius (မျဉ်းကွေးအနိမ့်အမြင့်)

    if (timeDec >= 6 && timeDec < 18) { // နေ့ဘက် (နေထွက်)
        let p = (timeDec - 6) / 12;
        let angle = Math.PI - (p * Math.PI);
        sun.style.left = (50 + Math.cos(angle) * rx) + "%";
        sun.style.top = (100 - Math.sin(angle) * ry) + "px";
        sun.style.opacity = 1; 
        moon.style.opacity = 0;
    } else { // ညဘက် (လထွက်)
        let mt = (timeDec >= 18) ? (timeDec - 18) : (timeDec + 6);
        let p = mt / 12;
        let angle = p * Math.PI; // ညာကနေ ဘယ်ကိုသွားမယ်
        moon.style.left = (50 + Math.cos(angle) * rx) + "%";
        moon.style.top = (100 - Math.sin(angle) * ry) + "px";
        moon.style.opacity = 1; 
        sun.style.opacity = 0;
    }
        }
        
        
    
    const activeId = `card-${next.id}`;
    const activeEl = document.getElementById(activeId);
    if(activeEl) {
        activeEl.style.borderColor = '#d4af37';
        activeEl.style.backgroundColor = 'rgba(212, 175, 55, 0.1)';
    }
        }
        
        
        
        function showImagePicker() {
            const grid = document.getElementById('pickerGrid');
            grid.innerHTML = "";
            mosques.forEach(img => {
                let div = document.createElement('div');
                div.className = "rounded-2xl overflow-hidden h-40 cursor-pointer active:scale-95 transition-transform border border-white/10";
                div.innerHTML = `<img src="${img}" class="w-full h-full object-cover" onclick="selectBackground('${img}')">`;
                grid.appendChild(div);
            });
            document.getElementById('imagePicker').classList.remove('hidden');
        }

        function selectBackground(url) {
            selectedImg = url;
            closePicker();
            document.getElementById('askModal').classList.remove('hidden');
        }

        function handleCustomImage(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = (e) => {
                    selectedImg = e.target.result;
                    closePicker();
                    document.getElementById('askModal').classList.remove('hidden');
                };
                reader.readAsDataURL(file);
            }
        }

        function showDetailForm() {
            document.getElementById('askModal').classList.add('hidden');
            document.getElementById('detailForm').classList.remove('hidden');
        }

      async function generateFinalPoster(designType) {
    const canvasArea = document.getElementById('posterCanvas');
    document.getElementById('p-bg').style.backgroundImage = `url('${selectedImg}')`;
    
    const currentDayText = document.getElementById('dayCount').innerText;
    const dayNum = parseInt(currentDayText.replace("DAY ", ""));
    let today = ramadanData.find(d => d.r === dayNum) || ramadanData[0];
    
    document.getElementById('p-day-text').innerText = `DAY ${String(today.r).padStart(2, '0')} - ${today.date.toUpperCase()}, 2026`;
    document.getElementById('p-sehri').innerText = today.s + " AM";
    document.getElementById('p-iftar').innerText = today.i + " PM";
    document.getElementById('p-duration').innerText = "တနေ့တာ ဥပုသ်စောင့်ချိန်: " + getDuration(today.s + " AM", today.i + " PM");

    // ဒီဇိုင်းရွေးချယ်မှု (card = Business Card, poster = Original Poster)
    if(designType === 'card') {
        canvasArea.style.width = "600px";
        canvasArea.style.height = "350px";
        document.getElementById('p-footer').style.display = "block";
        document.getElementById('p-default-footer').style.display = "none";
        // Business Card အတွက် Input တွေကနေ Data ယူမယ်
        document.getElementById('out-name').innerText = document.getElementById('bName').value || "Your Name";
        document.getElementById('out-desc').innerText = document.getElementById('bDesc').value || "Description";
        document.getElementById('out-phone').innerText = document.getElementById('bPhone').value || "";
    } else {
        canvasArea.style.width = "1080px";
        canvasArea.style.height = "1920px";
        document.getElementById('p-footer').style.display = "none";
        document.getElementById('p-default-footer').style.display = "block";
        
        // Poster အတွက် Yangon စာသားနဲ့ အစ်ကို့နာမည် Arabic Font အစစ် (Amiri)
        document.getElementById('p-default-footer').innerHTML = `
            <div style="text-align: center; margin-top: 40px;">
                <p style="font-size: 28px; margin-bottom: 10px; color: #fff;">Yangon, Myanmar</p>
                <p class="arabic-text" style="font-size: 55px; color: #BF953F; font-weight: bold; font-family: 'Amiri', serif !important;">محمد هارون رشيد</p>
            </div>
        `;
    }

    // ပုံထုတ်ခြင်း (Scale 2 သုံးထားပါတယ်)
    const canvas = await html2canvas(canvasArea, { useCORS: true, scale: 2, logging: false, allowTaint: true });
    const link = document.createElement('a');
    link.download = `Ramadan_${designType}_Day${today.r}.png`;
    link.href = canvas.toDataURL("image/png", 1.0);
    link.click();
    
    // ပိတ်စရာရှိတာတွေ ပြန်ပိတ်မယ်
    document.getElementById('askModal').classList.add('hidden');
    document.getElementById('detailForm').classList.add('hidden');
      }
        
             
        function closePicker() { document.getElementById('imagePicker').classList.add('hidden'); }
        function toggleCalendar() { document.getElementById('calendarDrawer').classList.toggle('open'); }

        // ပြက္ခဒိန် ဒေတာ ထည့်ခြင်း (ဒီနေ့ရက်ကို Highlight ပြပေးမည့်စနစ်)
const calBody = document.getElementById('calBody');
const todayDate = new Date();
const monNames = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
const todayStr = monNames[todayDate.getMonth()] + " " + String(todayDate.getDate()).padStart(2, '0');

ramadanData.forEach(d => {
    let tr = document.createElement('tr');
    
    // ဒီနေ့ရက်စွဲ ဟုတ်မဟုတ် စစ်ဆေးခြင်း
    if (d.date === todayStr) {
        tr.className = "today-highlight transition-all duration-500";
    }

    tr.innerHTML = `
        <td class="py-5 px-4 opacity-40 font-bold">${d.r}</td>
        <td class="py-5 px-4 font-medium ${d.date === todayStr ? 'gold-text font-bold' : ''}">${d.date}</td>
        <td class="py-5 px-4">${d.s} AM</td>
        <td class="py-5 px-4 gold-text font-bold">${to12(d.i)}</td>
    `;
    calBody.appendChild(tr);
});
   
       // ၁။ အစပိုင်း Effects များ (ကြယ်နှင့် တိမ်)
function initEffects() {
    const sCont = document.getElementById('starsContainer');
    const cCont = document.getElementById('cloudsContainer');
    
    if (sCont) {
        sCont.innerHTML = '';
        for(let i=0; i<80; i++) {
            let s = document.createElement('div');
            s.className = 'star';
            s.style.width = s.style.height = Math.random() * 2 + 1 + "px";
            s.style.left = Math.random() * 100 + "%";
            s.style.top = Math.random() * 60 + "%";
            s.style.setProperty('--d', (Math.random() * 3 + 2) + "s");
            sCont.appendChild(s);
        }
    }
}

// ၂။ Countdown Box ထဲက နေ/လ ကို ထိန်းချုပ်မည့် Function
function updateMiniSky() {
    const now = new Date();
    const h = now.getHours();
    const m = now.getMinutes();
    const s = now.getSeconds();
    const timeDec = h + m / 60 + s / 3600;

    const sun = document.getElementById('sunMini');
    const moon = document.getElementById('moonMini');
    const mShadow = document.getElementById('mShadowMini');

    if (!sun || !moon) return;

    // Radius values for the arc
    const rx = 50; // Width in %
    const ry = 100; // Height to match the path

    if (timeDec >= 6 && timeDec < 18) { // နေ: မနက် ၆ မှ ညနေ ၆ (ဘယ် -> ညာ)
        let progress = (timeDec - 6) / 12; // 0 to 1
        // Angle: Math.PI (Left) to 0 (Right)
        let angle = Math.PI - (progress * Math.PI);
        
        sun.style.left = (50 + Math.cos(angle) * rx) + "%";
        sun.style.top = (100 - Math.sin(angle) * ry) + "%";
        
        sun.style.opacity = "1";
        moon.style.opacity = "0";
    } 
    else { // လ: ညနေ ၆ မှ မနက် ၆ (ညာ -> ဘယ်)
        let mTime = (timeDec >= 18) ? (timeDec - 18) : (timeDec + 6);
        let progress = mTime / 12; // 0 to 1
        // Angle: 0 (Right) to Math.PI (Left)
        let angle = progress * Math.PI;
        
        moon.style.left = (50 + Math.cos(angle) * rx) + "%";
        moon.style.top = (100 - Math.sin(angle) * ry) + "%";
        
        moon.style.opacity = "1";
        sun.style.opacity = "0";

        // လအဆင့် တွက်ချက်ခြင်း
        let dayNum = now.getDate();
        let phasePos = ((dayNum % 30) / 30) * 200 - 100;
        if (mShadow) mShadow.style.transform = `translateX(${phasePos}%)`;
    }
}
        

// ၃။ ဇကားသ် တွက်ချက်ခြင်း
function calculateZakat() {
    const wealth = parseFloat(document.getElementById('totalWealth').value) || 0;
    const debt = parseFloat(document.getElementById('totalDebt').value) || 0;
    const netAsset = wealth - debt;
    
    document.getElementById('netWealth').innerText = netAsset > 0 ? netAsset.toLocaleString() + " MMK" : "0 MMK";
    document.getElementById('zakatResult').innerText = netAsset > 0 ? (netAsset * 0.025).toLocaleString() + " MMK" : "0 MMK";
}

// အားလုံးကို စတင် Run ရန်
initEffects();
setInterval(() => {
    updateMiniSky();
    if (typeof update === "function") update(); // အစ်ကို့ရဲ့ Countdown Timer function ကို ခေါ်ခြင်း
}, 1000);

updateMiniSky();
            



        setInterval(update, 1000); update();
    </script>
</body>
</html>
